<!DOCTYPE html>
   <html lang="en">
   <head>
       <meta charset="UTF-8">
       <meta name="viewport" content="width=device-width, initial-scale=1.0">
       <title>Admin Upload</title>
       <link rel="stylesheet" href="styles_v6.css">
       <style>
           /* Add your existing styles here */
       </style>
       <!-- Cloudinary Upload Widget -->
       <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
   </head>
   <body>
       <script>
           function checkPassword() {
               const password = prompt("Enter Admin Password:");
               const correctPassword = "admin123";
               if (password !== correctPassword || password === null) {
                   alert("Incorrect password! Access denied.");
                   window.location.href = "index.html";
               }
           }
           checkPassword();
       </script>

       <div class="upload-container">
           <h2>Upload Images</h2>
           <label for="image-category">Select Category:</label>
           <select id="image-category" onchange="updateSlotOptions()">
               <option value="services">Services</option>
               <option value="projects">Projects</option>
           </select>

           <label for="image-slot">Select Image Slot:</label>
           <select id="image-slot"></select>

           <button onclick="openUploadWidget()">Upload Image</button>
           <button onclick="clearImages()">Clear All Images</button>
       </div>

       <script>
           document.addEventListener("DOMContentLoaded", function() {
               updateSlotOptions();
           });

           function updateSlotOptions() {
               const category = document.getElementById('image-category').value;
               const slotSelect = document.getElementById('image-slot');
               slotSelect.innerHTML = '';

               const slots = category === 'services' ? 3 : 9;
               for (let i = 0; i < slots; i++) {
                   slotSelect.innerHTML += <option value="${i}">Image ${i + 1}</option>;
               }
           }

           function openUploadWidget() {
               const category = document.getElementById('image-category').value;
               const slot = document.getElementById('image-slot').value;

               const cloudName = "YOUR_CLOUD_NAME"; // Replace with your Cloudinary cloud name
               const uploadPreset = "YOUR_UPLOAD_PRESET"; // Replace with your upload preset

               const myWidget = cloudinary.createUploadWidget(
                   {
                       cloudName: cloudName,
                       uploadPreset: uploadPreset,
                       sources: ["local", "url"], // Allow local files and URLs
                       multiple: false, // Allow only one file at a time
                       cropping: false, // Disable cropping
                       resourceType: "image", // Only allow images
                       maxFileSize: 5000000, // 5 MB file size limit
                   },
                   (error, result) => {
                       if (!error && result && result.event === "success") {
                           const imageUrl = result.info.secure_url;
                           const key = update_${category}_${slot};
                           localStorage.setItem(key, imageUrl);
                           alert("Image uploaded successfully!");
                       } else if (error) {
                           console.error("Upload error:", error);
                           alert("Upload failed. Please try again.");
                       }
                   }
               );

               myWidget.open();
           }

           function clearImages() {
               if (confirm("Are you sure you want to clear all images?")) {
                   localStorage.clear();
                   alert("All images cleared.");
               }
           }
       </script>
   </body>
   </html>
